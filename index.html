<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacSwit — Smart Battery Management for Your Mac</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=DM+Sans:ital,opsz,wght@0,9..40,300..700;1,9..40,300..700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

:root {
  --bg-deep: #050507;
  --bg-primary: #0c0c0f;
  --bg-elevated: #161619;
  --bg-card: #1c1c20;
  --bg-card-hover: #222226;
  --border-subtle: rgba(255,255,255,0.06);
  --border-mid: rgba(255,255,255,0.1);
  --text-primary: #f5f5f7;
  --text-secondary: #a1a1a6;
  --text-tertiary: #6e6e73;
  --green: #30d158;
  --green-dim: rgba(48,209,88,0.12);
  --green-glow: rgba(48,209,88,0.3);
  --blue: #0a84ff;
  --blue-dim: rgba(10,132,255,0.12);
  --yellow: #ffd60a;
  --yellow-dim: rgba(255,214,10,0.1);
  --orange: #ff9f0a;
  --red: #ff453a;
  --font-display: 'Bricolage Grotesque', sans-serif;
  --font-body: 'DM Sans', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;
}

html { scroll-behavior: smooth; }

body {
  background: var(--bg-deep);
  color: var(--text-primary);
  font-family: var(--font-body);
  font-size: 16px;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* ── Noise texture overlay ── */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 200px;
}

/* ── Scroll reveal ── */
.reveal {
  opacity: 0;
  transform: translateY(32px);
  transition: opacity 0.8s cubic-bezier(0.16,1,0.3,1), transform 0.8s cubic-bezier(0.16,1,0.3,1);
}
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ── Container ── */
.container {
  max-width: 1120px;
  margin: 0 auto;
  padding: 0 32px;
}

/* ── Nav ── */
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 16px 0;
  background: rgba(5,5,7,0.7);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid var(--border-subtle);
  transition: background 0.3s;
}
nav .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.nav-brand {
  display: flex;
  align-items: center;
  gap: 10px;
  text-decoration: none;
  color: var(--text-primary);
}
.nav-brand svg { flex-shrink: 0; }
.nav-brand span {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 18px;
  letter-spacing: -0.02em;
}
.nav-links {
  display: flex;
  gap: 32px;
  list-style: none;
}
.nav-links a {
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  transition: color 0.2s;
}
.nav-links a:hover { color: var(--text-primary); }
.nav-download {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 18px;
  border-radius: 8px;
  background: var(--green);
  color: #000;
  font-weight: 600;
  font-size: 14px;
  text-decoration: none;
  transition: transform 0.2s, box-shadow 0.2s;
}
.nav-download:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 24px var(--green-glow);
}

/* ── Hero ── */
.hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 140px 32px 100px;
  overflow: hidden;
}
.hero-glow {
  position: absolute;
  width: 700px;
  height: 700px;
  border-radius: 50%;
  filter: blur(160px);
  opacity: 0.15;
  pointer-events: none;
}
.hero-glow--green {
  top: -200px;
  left: 50%;
  transform: translateX(-60%);
  background: var(--green);
}
.hero-glow--blue {
  bottom: -300px;
  right: -100px;
  background: var(--blue);
  opacity: 0.08;
}
.hero-content { position: relative; z-index: 2; max-width: 800px; }
.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 16px 6px 8px;
  border-radius: 100px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-mid);
  font-size: 13px;
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 32px;
}
.hero-badge .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--green);
  animation: pulse-dot 2s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%,100% { box-shadow: 0 0 0 0 var(--green-glow); }
  50% { box-shadow: 0 0 0 6px transparent; }
}
.hero h1 {
  font-family: var(--font-display);
  font-size: clamp(52px, 8vw, 88px);
  font-weight: 800;
  line-height: 0.95;
  letter-spacing: -0.04em;
  margin-bottom: 24px;
}
.hero h1 .gradient-text {
  background: linear-gradient(135deg, var(--green) 0%, #5af07e 40%, var(--yellow) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}
.hero-sub {
  font-size: clamp(17px, 2.2vw, 20px);
  color: var(--text-secondary);
  max-width: 560px;
  margin: 0 auto 48px;
  line-height: 1.65;
}
.hero-cta-group {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  flex-wrap: wrap;
}
.btn-primary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 14px 28px;
  border-radius: 12px;
  background: var(--green);
  color: #000;
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: transform 0.2s, box-shadow 0.3s;
  font-family: var(--font-body);
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px var(--green-glow);
}
.btn-secondary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 14px 28px;
  border-radius: 12px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-mid);
  color: var(--text-primary);
  font-weight: 600;
  font-size: 16px;
  text-decoration: none;
  transition: background 0.2s, border-color 0.2s;
}
.btn-secondary:hover {
  background: var(--bg-card);
  border-color: rgba(255,255,255,0.15);
}
.hero-meta {
  margin-top: 40px;
  display: flex;
  justify-content: center;
  gap: 32px;
  color: var(--text-tertiary);
  font-size: 13px;
}
.hero-meta span {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* ── Battery animation in hero ── */
.hero-battery-wrap {
  margin-top: 72px;
  position: relative;
}
.hero-battery {
  width: 320px;
  height: 140px;
  margin: 0 auto;
  position: relative;
}
.battery-body {
  width: 280px;
  height: 120px;
  border-radius: 20px;
  border: 3px solid rgba(255,255,255,0.15);
  position: relative;
  overflow: hidden;
  margin: 0 auto;
}
.battery-cap {
  position: absolute;
  right: -16px;
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 40px;
  border-radius: 0 6px 6px 0;
  background: rgba(255,255,255,0.15);
  left: calc(50% + 143px);
}
.battery-fill {
  position: absolute;
  bottom: 6px;
  left: 6px;
  right: 6px;
  height: 0%;
  border-radius: 14px;
  background: linear-gradient(180deg, var(--green) 0%, #1a9e3e 100%);
  transition: height 2s cubic-bezier(0.16,1,0.3,1);
  box-shadow: 0 0 30px var(--green-glow);
}
.battery-percent {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono);
  font-size: 36px;
  font-weight: 500;
  color: var(--text-primary);
  z-index: 2;
  text-shadow: 0 2px 8px rgba(0,0,0,0.5);
}
.battery-label {
  text-align: center;
  margin-top: 16px;
  font-size: 14px;
  color: var(--text-tertiary);
  font-weight: 500;
}

/* ── Section common ── */
section {
  padding: 120px 0;
}
.section-label {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--green);
  margin-bottom: 16px;
}
.section-title {
  font-family: var(--font-display);
  font-size: clamp(32px, 5vw, 48px);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.1;
  margin-bottom: 16px;
}
.section-desc {
  font-size: 18px;
  color: var(--text-secondary);
  max-width: 540px;
  line-height: 1.6;
}

/* ── Features ── */
.features-section { background: var(--bg-primary); }
.features-header {
  text-align: center;
  margin-bottom: 72px;
}
.features-header .section-desc { margin: 0 auto; }
.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
}
.feature-card {
  padding: 32px;
  border-radius: 20px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-subtle);
  transition: border-color 0.3s, transform 0.3s, box-shadow 0.3s;
}
.feature-card:hover {
  border-color: var(--border-mid);
  transform: translateY(-4px);
  box-shadow: 0 16px 48px rgba(0,0,0,0.3);
}
.feature-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  font-size: 22px;
}
.feature-icon--green { background: var(--green-dim); color: var(--green); }
.feature-icon--blue { background: var(--blue-dim); color: var(--blue); }
.feature-icon--yellow { background: var(--yellow-dim); color: var(--yellow); }
.feature-card h3 {
  font-family: var(--font-display);
  font-size: 19px;
  font-weight: 700;
  margin-bottom: 8px;
  letter-spacing: -0.01em;
}
.feature-card p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.6;
}

/* ── How it works ── */
.how-section { position: relative; }
.how-header { text-align: center; margin-bottom: 80px; }
.how-header .section-desc { margin: 0 auto; }
.how-steps {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 40px;
  position: relative;
}
.how-steps::before {
  content: '';
  position: absolute;
  top: 36px;
  left: calc(16.666% + 20px);
  right: calc(16.666% + 20px);
  height: 2px;
  background: linear-gradient(90deg, var(--green), var(--blue), var(--yellow));
  opacity: 0.3;
}
.how-step { text-align: center; position: relative; }
.step-number {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 24px;
  font-family: var(--font-display);
  font-size: 28px;
  font-weight: 800;
  position: relative;
  z-index: 2;
}
.step-number--1 {
  background: var(--green-dim);
  color: var(--green);
  border: 2px solid rgba(48,209,88,0.2);
}
.step-number--2 {
  background: var(--blue-dim);
  color: var(--blue);
  border: 2px solid rgba(10,132,255,0.2);
}
.step-number--3 {
  background: var(--yellow-dim);
  color: var(--yellow);
  border: 2px solid rgba(255,214,10,0.2);
}
.how-step h3 {
  font-family: var(--font-display);
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 8px;
  letter-spacing: -0.01em;
}
.how-step p {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.6;
  max-width: 280px;
  margin: 0 auto;
}

/* ── Screenshots ── */
.screenshots-section {
  background: var(--bg-primary);
  overflow: hidden;
}
.screenshots-header { text-align: center; margin-bottom: 56px; }
.screenshots-header .section-desc { margin: 0 auto; }
.screenshot-tabs {
  display: flex;
  justify-content: center;
  gap: 4px;
  margin-bottom: 48px;
  background: var(--bg-elevated);
  padding: 4px;
  border-radius: 12px;
  width: fit-content;
  margin-left: auto;
  margin-right: auto;
  border: 1px solid var(--border-subtle);
}
.screenshot-tab {
  padding: 10px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.25s;
  font-family: var(--font-body);
  white-space: nowrap;
}
.screenshot-tab.active {
  background: var(--bg-card);
  color: var(--text-primary);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
.screenshot-tab:hover:not(.active) { color: var(--text-primary); }
.screenshot-display {
  max-width: 720px;
  margin: 0 auto;
  position: relative;
}
.screenshot-window {
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border-mid);
  background: var(--bg-card);
  box-shadow: 0 24px 80px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05);
  position: relative;
}
.screenshot-window::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 16px;
  pointer-events: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
  z-index: 3;
}
.window-titlebar {
  height: 40px;
  background: var(--bg-elevated);
  border-bottom: 1px solid var(--border-subtle);
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 8px;
}
.window-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
}
.window-dot--red { background: #ff5f57; }
.window-dot--yellow { background: #febc2e; }
.window-dot--green { background: #28c840; }
.window-title {
  flex: 1;
  text-align: center;
  font-size: 13px;
  color: var(--text-tertiary);
  font-weight: 500;
  margin-right: 52px;
}
.screenshot-panels { position: relative; }
.screenshot-panel {
  display: none;
  animation: fadeInPanel 0.4s ease;
}
.screenshot-panel.active { display: block; }
@keyframes fadeInPanel {
  from { opacity: 0; transform: scale(0.98); }
  to { opacity: 1; transform: scale(1); }
}
.screenshot-panel img {
  width: 100%;
  height: auto;
  display: block;
}
.screenshot-caption {
  text-align: center;
  margin-top: 24px;
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* ── Setup Guide ── */
.setup-section { position: relative; }
.setup-layout {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 80px;
  align-items: start;
}
.setup-sidebar { position: sticky; top: 120px; }
.setup-steps { display: flex; flex-direction: column; gap: 16px; }
.setup-step {
  padding: 24px 28px;
  border-radius: 16px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-subtle);
  cursor: pointer;
  transition: all 0.3s;
}
.setup-step:hover, .setup-step.active {
  border-color: var(--border-mid);
  background: var(--bg-card);
}
.setup-step.active { border-color: rgba(48,209,88,0.3); }
.setup-step-header {
  display: flex;
  align-items: center;
  gap: 14px;
}
.setup-step-num {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono);
  font-size: 14px;
  font-weight: 500;
  background: var(--green-dim);
  color: var(--green);
  flex-shrink: 0;
}
.setup-step.active .setup-step-num {
  background: var(--green);
  color: #000;
}
.setup-step-title {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 16px;
}
.setup-step-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.16,1,0.3,1), padding 0.3s;
}
.setup-step.active .setup-step-body {
  max-height: 400px;
  padding-top: 16px;
}
.setup-step-body p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.7;
  padding-left: 46px;
}
.setup-step-body code {
  font-family: var(--font-mono);
  font-size: 13px;
  background: rgba(255,255,255,0.06);
  padding: 2px 7px;
  border-radius: 5px;
  color: var(--green);
}
.setup-visual {
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--border-subtle);
  background: var(--bg-elevated);
  padding: 40px;
  min-height: 480px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.setup-visual-inner {
  width: 100%;
  text-align: center;
}
.setup-anim {
  display: none;
}
.setup-anim.active {
  display: block;
  animation: fadeInPanel 0.4s ease;
}

/* Setup illustration: threshold bars */
.threshold-demo {
  width: 100%;
  max-width: 360px;
  margin: 0 auto;
}
.threshold-bar-wrap {
  background: rgba(255,255,255,0.04);
  border-radius: 12px;
  height: 40px;
  position: relative;
  overflow: hidden;
  margin-bottom: 24px;
}
.threshold-fill {
  height: 100%;
  border-radius: 12px;
  transition: width 1.5s cubic-bezier(0.16,1,0.3,1);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 12px;
  font-family: var(--font-mono);
  font-size: 14px;
  font-weight: 500;
  color: #000;
}
.threshold-fill--on {
  background: linear-gradient(90deg, var(--red), var(--orange));
  width: 80%;
}
.threshold-fill--off {
  background: linear-gradient(90deg, var(--orange), var(--green));
  width: 100%;
}
.threshold-labels {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  color: var(--text-tertiary);
}

/* Setup illustration: connection flow */
.connection-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 24px;
}
.flow-node {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}
.flow-icon {
  width: 64px;
  height: 64px;
  border-radius: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
}
.flow-icon--mac { background: var(--bg-card); border: 1px solid var(--border-mid); }
.flow-icon--cloud { background: var(--blue-dim); border: 1px solid rgba(10,132,255,0.2); }
.flow-icon--plug { background: var(--yellow-dim); border: 1px solid rgba(255,214,10,0.2); }
.flow-label { font-size: 13px; color: var(--text-secondary); font-weight: 500; }
.flow-arrow {
  font-size: 20px;
  color: var(--text-tertiary);
  animation: arrowPulse 2s ease-in-out infinite;
}
@keyframes arrowPulse {
  0%,100% { opacity: 0.4; transform: translateX(0); }
  50% { opacity: 1; transform: translateX(4px); }
}

/* Setup illustration: check mark */
.check-circle {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: var(--green-dim);
  border: 3px solid var(--green);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  font-size: 48px;
}

/* ── Requirements ── */
.req-section { background: var(--bg-primary); }
.req-header { text-align: center; margin-bottom: 56px; }
.req-header .section-desc { margin: 0 auto; }
.req-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  max-width: 840px;
  margin: 0 auto;
}
.req-card {
  padding: 32px 28px;
  border-radius: 20px;
  background: var(--bg-elevated);
  border: 1px solid var(--border-subtle);
  text-align: center;
  transition: border-color 0.3s;
}
.req-card:hover { border-color: var(--border-mid); }
.req-icon {
  font-size: 36px;
  margin-bottom: 16px;
  display: block;
}
.req-card h3 {
  font-family: var(--font-display);
  font-size: 17px;
  font-weight: 700;
  margin-bottom: 6px;
}
.req-card p {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* ── CTA ── */
.cta-section {
  text-align: center;
  padding: 100px 0 120px;
  position: relative;
}
.cta-section::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 400px;
  border-radius: 50%;
  background: var(--green);
  filter: blur(200px);
  opacity: 0.06;
  pointer-events: none;
}
.cta-title {
  font-family: var(--font-display);
  font-size: clamp(36px, 5vw, 56px);
  font-weight: 800;
  letter-spacing: -0.03em;
  margin-bottom: 20px;
  line-height: 1.05;
}
.cta-desc {
  font-size: 18px;
  color: var(--text-secondary);
  margin-bottom: 40px;
  max-width: 480px;
  margin-left: auto;
  margin-right: auto;
}

/* ── Footer ── */
footer {
  border-top: 1px solid var(--border-subtle);
  padding: 40px 0;
}
footer .container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 16px;
}
.footer-left {
  display: flex;
  align-items: center;
  gap: 20px;
  font-size: 14px;
  color: var(--text-tertiary);
}
.footer-left a {
  color: var(--text-secondary);
  text-decoration: none;
  transition: color 0.2s;
}
.footer-left a:hover { color: var(--text-primary); }
.footer-right {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--text-tertiary);
}
.coffee-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 8px;
  background: var(--yellow-dim);
  color: var(--yellow);
  text-decoration: none;
  font-weight: 600;
  font-size: 14px;
  transition: background 0.2s;
  border: 1px solid rgba(255,214,10,0.15);
}
.coffee-link:hover { background: rgba(255,214,10,0.18); }

/* ── Responsive ── */
@media (max-width: 900px) {
  .features-grid { grid-template-columns: repeat(2, 1fr); }
  .how-steps { grid-template-columns: 1fr; gap: 48px; }
  .how-steps::before { display: none; }
  .setup-layout { grid-template-columns: 1fr; gap: 40px; }
  .setup-sidebar { position: static; }
  .req-grid { grid-template-columns: 1fr; max-width: 400px; }
  .nav-links { display: none; }
}
@media (max-width: 600px) {
  .features-grid { grid-template-columns: 1fr; }
  section { padding: 80px 0; }
  .hero { padding: 120px 20px 80px; }
  .hero-meta { flex-direction: column; gap: 12px; }
  .hero-battery { transform: scale(0.8); }
  footer .container { flex-direction: column; text-align: center; }
  .screenshot-tabs { flex-wrap: wrap; }
}
</style>
</head>
<body>

<!-- ── Navigation ── -->
<nav>
  <div class="container">
    <a href="#" class="nav-brand">
      <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
        <rect width="28" height="28" rx="7" fill="#1c1c20"/>
        <rect x="6" y="8" width="10" height="14" rx="2" fill="#FFD60A" opacity="0.9"/>
        <rect x="14" y="6" width="8" height="16" rx="2" fill="#30D158"/>
        <circle cx="22" cy="6" r="3" fill="#FF453A" opacity="0.8"/>
        <path d="M20 5 Q23 3 24 5" stroke="#FF9F0A" stroke-width="1.5" fill="none" opacity="0.7"/>
      </svg>
      <span>MacSwit</span>
    </a>
    <ul class="nav-links">
      <li><a href="#features">Features</a></li>
      <li><a href="#how-it-works">How It Works</a></li>
      <li><a href="#screenshots">Screenshots</a></li>
      <li><a href="#setup">Setup</a></li>
    </ul>
    <a href="#download" class="nav-download">
      <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 12l-4-4h2.5V2h3v6H12L8 12zm-5 2h10v1.5H3V14z"/></svg>
      Download
    </a>
  </div>
</nav>

<!-- ── Hero ── -->
<section class="hero" id="top">
  <div class="hero-glow hero-glow--green"></div>
  <div class="hero-glow hero-glow--blue"></div>
  <div class="hero-content">
    <div class="hero-badge reveal">
      <span class="dot"></span>
      macOS 13+ &nbsp;·&nbsp; Free &nbsp;·&nbsp; Open Source
    </div>
    <h1 class="reveal"><span class="gradient-text">Smart Battery</span><br>Management</h1>
    <p class="hero-sub reveal">MacSwit automatically controls your smart plug based on battery level, keeping your Mac within the optimal charge window to extend battery lifespan.</p>
    <div class="hero-cta-group reveal">
      <a href="#download" class="btn-primary">
        <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M8 12l-4-4h2.5V2h3v6H12L8 12zm-5 2h10v1.5H3V14z"/></svg>
        Download for Mac
      </a>
      <a href="#setup" class="btn-secondary">
        Setup Guide
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 16 16"><path d="M3 8h10M9 4l4 4-4 4"/></svg>
      </a>
    </div>
    <div class="hero-meta reveal">
      <span>
        <svg width="14" height="14" fill="var(--text-tertiary)" viewBox="0 0 16 16"><path d="M8 0a8 8 0 100 16A8 8 0 008 0zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13zM8.5 4H7v5l4 2.5.75-1.2-3.25-2V4z"/></svg>
        Set &amp; forget
      </span>
      <span>
        <svg width="14" height="14" fill="var(--text-tertiary)" viewBox="0 0 16 16"><path d="M13 1H3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V3a2 2 0 00-2-2zm-1 4H4V3h8v2z"/></svg>
        Menu bar app
      </span>
      <span>
        <svg width="14" height="14" fill="var(--text-tertiary)" viewBox="0 0 16 16"><path d="M8 1a5 5 0 00-5 5v2.586l-1.707 1.707A1 1 0 002 12h12a1 1 0 00.707-1.707L13 8.586V6a5 5 0 00-5-5zM6 13a2 2 0 004 0H6z"/></svg>
        Native notifications
      </span>
    </div>
    <div class="hero-battery-wrap reveal">
      <div class="hero-battery">
        <div class="battery-body">
          <div class="battery-fill" id="batteryFill"></div>
          <div class="battery-percent" id="batteryPercent">0%</div>
        </div>
        <div class="battery-cap"></div>
      </div>
      <div class="battery-label">Optimized charging between <strong style="color:var(--orange)">80%</strong> and <strong style="color:var(--green)">100%</strong></div>
    </div>
  </div>
</section>

<!-- ── Features ── -->
<section class="features-section" id="features">
  <div class="container">
    <div class="features-header reveal">
      <p class="section-label">Features</p>
      <h2 class="section-title">Everything your battery needs</h2>
      <p class="section-desc">Automated smart plug control with the precision of native macOS integration.</p>
    </div>
    <div class="features-grid">
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--green">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
        </div>
        <h3>Automatic Charging</h3>
        <p>Set your charge window and let MacSwit handle the rest. Smart plug toggles automatically based on real-time battery level.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--blue">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 1a9 9 0 00-9 9v4l-2 3v1h22v-1l-2-3v-4a9 9 0 00-9-9zm0 21a3 3 0 01-3-3h6a3 3 0 01-3 3z"/></svg>
        </div>
        <h3>Smart Notifications</h3>
        <p>Receive native macOS notifications whenever the plug state changes, so you always know what's happening.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--yellow">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
        </div>
        <h3>Tuya Integration</h3>
        <p>Works with Tuya and Tupa-compatible smart plugs worldwide, with support for all major cloud regions.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--green">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>
        </div>
        <h3>Keychain Security</h3>
        <p>All credentials are stored securely in the macOS Keychain — never in plain text or UserDefaults.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--blue">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8A5.87 5.87 0 016 12c0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>
        </div>
        <h3>Hysteresis Control</h3>
        <p>Built-in 3-minute cooldown prevents rapid plug toggling, protecting both your device and API rate limits.</p>
      </div>
      <div class="feature-card reveal">
        <div class="feature-icon feature-icon--yellow">
          <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0012 4c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>
        </div>
        <h3>Launch at Login</h3>
        <p>Start automatically when you log in. Once configured, MacSwit works silently in the background from the menu bar.</p>
      </div>
    </div>
  </div>
</section>

<!-- ── How it works ── -->
<section class="how-section" id="how-it-works">
  <div class="container">
    <div class="how-header reveal">
      <p class="section-label">How it works</p>
      <h2 class="section-title">Three simple steps</h2>
      <p class="section-desc">Plug your Mac charger into a Tuya smart plug, configure your thresholds, and let MacSwit take over.</p>
    </div>
    <div class="how-steps">
      <div class="how-step reveal">
        <div class="step-number step-number--1">1</div>
        <h3>Set your charge window</h3>
        <p>Define the battery percentage range where you want your Mac to stay. For example, start charging at 80% and stop at 100%.</p>
      </div>
      <div class="how-step reveal">
        <div class="step-number step-number--2">2</div>
        <h3>Connect your smart plug</h3>
        <p>Enter your Tuya IoT credentials and device ID. MacSwit securely stores everything in the macOS Keychain.</p>
      </div>
      <div class="how-step reveal">
        <div class="step-number step-number--3">3</div>
        <h3>Sit back and relax</h3>
        <p>MacSwit monitors your battery and automatically controls the plug — turning it on when low and off when fully charged.</p>
      </div>
    </div>
  </div>
</section>

<!-- ── Screenshots ── -->
<section class="screenshots-section" id="screenshots">
  <div class="container">
    <div class="screenshots-header reveal">
      <p class="section-label">App Preview</p>
      <h2 class="section-title">Designed for macOS</h2>
      <p class="section-desc">A native SwiftUI interface that feels right at home on your Mac, with a clean dark-mode design.</p>
    </div>
    <div class="reveal">
      <div class="screenshot-tabs" id="screenshotTabs">
        <button class="screenshot-tab active" data-tab="0">Battery</button>
        <button class="screenshot-tab" data-tab="1">Smart Plug</button>
        <button class="screenshot-tab" data-tab="2">Device & Test</button>
        <button class="screenshot-tab" data-tab="3">General</button>
      </div>
      <div class="screenshot-display">
        <div class="screenshot-window">
          <div class="window-titlebar">
            <div class="window-dot window-dot--red"></div>
            <div class="window-dot window-dot--yellow"></div>
            <div class="window-dot window-dot--green"></div>
            <span class="window-title" id="windowTitle">Battery</span>
          </div>
          <div class="screenshot-panels" id="screenshotPanels">
            <div class="screenshot-panel active" data-panel="0">
              <img src="assets/settings_battery.jpg" alt="Battery settings — configure start and stop charging thresholds with visual sliders and a color-coded battery bar">
            </div>
            <div class="screenshot-panel" data-panel="1">
              <img src="assets/settings_smartplug.jpg" alt="Smart Plug settings — select your provider, region, and enter Tuya cloud credentials securely">
            </div>
            <div class="screenshot-panel" data-panel="2">
              <img src="assets/settings_smartplug2.jpg" alt="Device configuration and connection test — enter Device ID, DP Code, and verify with Test ON/OFF buttons">
            </div>
            <div class="screenshot-panel" data-panel="3">
              <img src="assets/settings_general.jpg" alt="General settings — enable MacSwit, launch at login, switch off on shutdown, and version info">
            </div>
          </div>
        </div>
        <p class="screenshot-caption" id="screenshotCaption">Configure your charge thresholds with intuitive sliders and a real-time battery visualization.</p>
      </div>
    </div>
  </div>
</section>

<!-- ── Setup Guide ── -->
<section class="setup-section" id="setup">
  <div class="container">
    <div class="reveal" style="margin-bottom: 64px;">
      <p class="section-label">Setup Guide</p>
      <h2 class="section-title">Get started in minutes</h2>
      <p class="section-desc">From download to automated charging in four straightforward steps.</p>
    </div>
    <div class="setup-layout">
      <div class="setup-steps reveal">
        <div class="setup-step active" data-setup="0">
          <div class="setup-step-header">
            <div class="setup-step-num">01</div>
            <div class="setup-step-title">Install MacSwit</div>
          </div>
          <div class="setup-step-body">
            <p>Download the <code>.dmg</code> file and drag MacSwit into your Applications folder. Launch the app — it will appear as an icon in your menu bar showing your current battery percentage.</p>
          </div>
        </div>
        <div class="setup-step" data-setup="1">
          <div class="setup-step-header">
            <div class="setup-step-num">02</div>
            <div class="setup-step-title">Set battery thresholds</div>
          </div>
          <div class="setup-step-body">
            <p>Open Settings from the menu bar and go to the <strong>Battery</strong> tab. Set your <strong>"Start charging at"</strong> threshold (when the plug turns ON) and <strong>"Stop charging at"</strong> threshold (when the plug turns OFF). The on-threshold must be at least 5% lower than the off-threshold.</p>
          </div>
        </div>
        <div class="setup-step" data-setup="2">
          <div class="setup-step-header">
            <div class="setup-step-num">03</div>
            <div class="setup-step-title">Connect your Tuya smart plug</div>
          </div>
          <div class="setup-step-body">
            <p>Go to the <strong>Smart Plug</strong> tab. Select <strong>Tuya</strong> as the provider and your cloud region. Enter your <strong>Access ID</strong> and <strong>Access Secret</strong> from the Tuya IoT Platform, then your <strong>Device ID</strong> and <strong>DP Code</strong> (usually <code>switch_1</code>). Click <strong>"Save Secret"</strong> to store credentials securely in the Keychain.</p>
          </div>
        </div>
        <div class="setup-step" data-setup="3">
          <div class="setup-step-header">
            <div class="setup-step-num">04</div>
            <div class="setup-step-title">Test and enable</div>
          </div>
          <div class="setup-step-body">
            <p>Use the <strong>Test ON</strong>, <strong>Test OFF</strong>, and <strong>Verify Token</strong> buttons to confirm your plug responds correctly. Then go to the <strong>General</strong> tab and toggle <strong>"Enable MacSwit"</strong> on. Optionally enable <strong>"Launch at login"</strong> for a truly set-and-forget experience.</p>
          </div>
        </div>
      </div>
      <div class="setup-visual reveal">
        <div class="setup-visual-inner">
          <!-- Step 0: Install -->
          <div class="setup-anim active" data-setup-vis="0">
            <div style="font-size:64px;margin-bottom:20px;">
              <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                <rect x="4" y="4" width="72" height="72" rx="16" fill="var(--bg-card)" stroke="var(--border-mid)" stroke-width="2"/>
                <rect x="16" y="20" width="20" height="28" rx="4" fill="#FFD60A" opacity="0.9"/>
                <rect x="32" y="16" width="16" height="32" rx="4" fill="#30D158"/>
                <circle cx="52" cy="18" r="6" fill="#FF453A" opacity="0.7"/>
                <path d="M49 16 Q54 12 56 16" stroke="#FF9F0A" stroke-width="2.5" fill="none" opacity="0.6"/>
                <path d="M48 12 Q56 7 60 14" stroke="#FF9F0A" stroke-width="2" fill="none" opacity="0.4"/>
                <text x="40" y="66" text-anchor="middle" font-family="var(--font-body)" font-size="10" fill="var(--text-secondary)" font-weight="600">MacSwit</text>
              </svg>
            </div>
            <p style="font-size:15px;color:var(--text-secondary);line-height:1.6;">Drag to <strong style="color:var(--text-primary)">Applications</strong> and launch.<br>MacSwit lives in your menu bar.</p>
            <div style="margin-top:24px;display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--bg-card);border-radius:8px;border:1px solid var(--border-subtle);">
              <span style="font-family:var(--font-mono);font-size:14px;color:var(--green);">87%</span>
              <svg width="20" height="12" viewBox="0 0 20 12" fill="none">
                <rect x="0.5" y="0.5" width="17" height="11" rx="2" stroke="var(--green)" stroke-width="1"/>
                <rect x="18" y="3.5" width="2" height="5" rx="1" fill="var(--green)" opacity="0.5"/>
                <rect x="2" y="2" width="13" height="8" rx="1" fill="var(--green)" opacity="0.6"/>
              </svg>
              <span style="font-size:12px;color:var(--text-tertiary);">← menu bar</span>
            </div>
          </div>
          <!-- Step 1: Thresholds -->
          <div class="setup-anim" data-setup-vis="1">
            <div class="threshold-demo">
              <p style="font-size:14px;color:var(--text-secondary);margin-bottom:20px;font-weight:500;">Charge Window</p>
              <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
                <span style="font-size:13px;color:var(--orange);font-family:var(--font-mono);width:36px;">80%</span>
                <div class="threshold-bar-wrap" style="flex:1;">
                  <div class="threshold-fill threshold-fill--on">ON</div>
                </div>
              </div>
              <div style="display:flex;align-items:center;gap:12px;margin-bottom:24px;">
                <span style="font-size:13px;color:var(--green);font-family:var(--font-mono);width:36px;">100%</span>
                <div class="threshold-bar-wrap" style="flex:1;">
                  <div class="threshold-fill threshold-fill--off">OFF</div>
                </div>
              </div>
              <div style="display:flex;justify-content:space-between;padding:16px;background:var(--bg-card);border-radius:10px;border:1px solid var(--border-subtle);">
                <div>
                  <div style="font-size:11px;color:var(--text-tertiary);margin-bottom:2px;">Below 80%</div>
                  <div style="font-size:14px;font-weight:600;color:var(--orange);">Plug turns ON</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:11px;color:var(--text-tertiary);margin-bottom:2px;">At 100%</div>
                  <div style="font-size:14px;font-weight:600;color:var(--green);">Plug turns OFF</div>
                </div>
              </div>
            </div>
          </div>
          <!-- Step 2: Connect -->
          <div class="setup-anim" data-setup-vis="2">
            <div class="connection-flow">
              <div class="flow-node">
                <div class="flow-icon flow-icon--mac">
                  <svg width="28" height="28" fill="var(--text-secondary)" viewBox="0 0 24 24"><path d="M20 3H4a2 2 0 00-2 2v10a2 2 0 002 2h6v2H7v2h10v-2h-3v-2h6a2 2 0 002-2V5a2 2 0 00-2-2zm0 12H4V5h16v10z"/></svg>
                </div>
                <span class="flow-label">Your Mac</span>
              </div>
              <span class="flow-arrow">→</span>
              <div class="flow-node">
                <div class="flow-icon flow-icon--cloud">
                  <svg width="28" height="28" fill="var(--blue)" viewBox="0 0 24 24"><path d="M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/></svg>
                </div>
                <span class="flow-label">Tuya Cloud</span>
              </div>
              <span class="flow-arrow">→</span>
              <div class="flow-node">
                <div class="flow-icon flow-icon--plug">
                  <svg width="28" height="28" fill="var(--yellow)" viewBox="0 0 24 24"><path d="M16 9V4h-2v5h-4V4H8v5c0 1.86 1.28 3.41 3 3.86V21h2v-8.14c1.72-.45 3-2 3-3.86z"/></svg>
                </div>
                <span class="flow-label">Smart Plug</span>
              </div>
            </div>
            <p style="margin-top:28px;font-size:14px;color:var(--text-secondary);line-height:1.6;">Credentials stored securely in<br><strong style="color:var(--text-primary);">macOS Keychain</strong></p>
          </div>
          <!-- Step 3: Test -->
          <div class="setup-anim" data-setup-vis="3">
            <div class="check-circle">
              <svg width="48" height="48" fill="var(--green)" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>
            </div>
            <p style="font-size:18px;font-weight:600;color:var(--text-primary);margin-bottom:8px;">You're all set!</p>
            <p style="font-size:15px;color:var(--text-secondary);line-height:1.6;">MacSwit is now monitoring your battery<br>and controlling your smart plug automatically.</p>
            <div style="margin-top:24px;display:inline-flex;gap:12px;">
              <span style="padding:6px 14px;border-radius:8px;background:var(--green-dim);color:var(--green);font-size:13px;font-weight:600;">Test ON ✓</span>
              <span style="padding:6px 14px;border-radius:8px;background:var(--green-dim);color:var(--green);font-size:13px;font-weight:600;">Test OFF ✓</span>
              <span style="padding:6px 14px;border-radius:8px;background:var(--green-dim);color:var(--green);font-size:13px;font-weight:600;">Token ✓</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ── Requirements ── -->
<section class="req-section" id="requirements">
  <div class="container">
    <div class="req-header reveal">
      <p class="section-label">Requirements</p>
      <h2 class="section-title">What you need</h2>
      <p class="section-desc">MacSwit requires a few things to get started.</p>
    </div>
    <div class="req-grid reveal">
      <div class="req-card">
        <span class="req-icon">
          <svg width="40" height="40" fill="var(--text-secondary)" viewBox="0 0 24 24"><path d="M20 3H4a2 2 0 00-2 2v10a2 2 0 002 2h6v2H7v2h10v-2h-3v-2h6a2 2 0 002-2V5a2 2 0 00-2-2zm0 12H4V5h16v10z"/></svg>
        </span>
        <h3>macOS 13+</h3>
        <p>Requires macOS Ventura or later with a MacBook battery.</p>
      </div>
      <div class="req-card">
        <span class="req-icon">
          <svg width="40" height="40" fill="var(--text-secondary)" viewBox="0 0 24 24"><path d="M16 9V4h-2v5h-4V4H8v5c0 1.86 1.28 3.41 3 3.86V21h2v-8.14c1.72-.45 3-2 3-3.86z"/></svg>
        </span>
        <h3>Tuya Smart Plug</h3>
        <p>Any Tuya or Tupa-compatible smart plug connected to your charger.</p>
      </div>
      <div class="req-card">
        <span class="req-icon">
          <svg width="40" height="40" fill="var(--text-secondary)" viewBox="0 0 24 24"><path d="M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"/></svg>
        </span>
        <h3>Tuya IoT Account</h3>
        <p>Free account at <em>iot.tuya.com</em> for API credentials and device access.</p>
      </div>
    </div>
  </div>
</section>

<!-- ── CTA ── -->
<section class="cta-section" id="download">
  <div class="container">
    <div class="reveal">
      <h2 class="cta-title">Extend your battery's<br><span style="background:linear-gradient(135deg, var(--green), var(--yellow));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;">lifespan today</span></h2>
      <p class="cta-desc">Download MacSwit for free and take control of your Mac's charging cycle.</p>
      <a href="#" class="btn-primary" style="font-size:18px;padding:16px 36px;">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M8 12l-4-4h2.5V2h3v6H12L8 12zm-5 2h10v1.5H3V14z"/></svg>
        Download MacSwit
      </a>
    </div>
  </div>
</section>

<!-- ── Footer ── -->
<footer>
  <div class="container">
    <div class="footer-left">
      <span>MacSwit v1.0</span>
      <span>·</span>
      <span>macOS 13+</span>
      <span>·</span>
      <a href="#top">Back to top</a>
    </div>
    <a href="https://buymeacoffee.com" class="coffee-link" target="_blank" rel="noopener">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="var(--yellow)"><path d="M2 3h10v1H2V3zm0 2h10a2 2 0 01-2 8H4a2 2 0 01-2-8zm11 0h1a2 2 0 010 4h-1V5z"/></svg>
      Buy me a coffee
    </a>
  </div>
</footer>

<script>
// ── Scroll reveal ──
const reveals = document.querySelectorAll('.reveal');
const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry, i) => {
    if (entry.isIntersecting) {
      setTimeout(() => entry.target.classList.add('visible'), i * 80);
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
reveals.forEach(el => observer.observe(el));

// ── Battery animation ──
const batteryFill = document.getElementById('batteryFill');
const batteryPercent = document.getElementById('batteryPercent');
let targetPercent = 87;
setTimeout(() => {
  batteryFill.style.height = (targetPercent / 100 * 108 - 12) / 108 * 100 + '%';
  let current = 0;
  const interval = setInterval(() => {
    current += 1;
    if (current > targetPercent) { clearInterval(interval); return; }
    batteryPercent.textContent = current + '%';
    if (current < 20) batteryFill.style.background = 'linear-gradient(180deg, var(--red) 0%, #c0392b 100%)';
    else if (current < 50) batteryFill.style.background = 'linear-gradient(180deg, var(--orange) 0%, #e67e22 100%)';
    else batteryFill.style.background = 'linear-gradient(180deg, var(--green) 0%, #1a9e3e 100%)';
  }, 25);
}, 600);

// ── Screenshot tabs ──
const tabs = document.querySelectorAll('.screenshot-tab');
const panels = document.querySelectorAll('.screenshot-panel');
const windowTitle = document.getElementById('windowTitle');
const caption = document.getElementById('screenshotCaption');
const captions = [
  'Configure your charge thresholds with intuitive sliders and a real-time battery visualization.',
  'Select your smart plug provider, cloud region, and enter API credentials securely.',
  'Set your Device ID and DP Code, then test your connection with built-in verification tools.',
  'Enable automation, launch at login, and configure shutdown behavior — all in one place.'
];
const titles = ['Battery', 'Smart Plug', 'Smart Plug', 'General'];
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    const idx = tab.dataset.tab;
    tabs.forEach(t => t.classList.remove('active'));
    panels.forEach(p => p.classList.remove('active'));
    tab.classList.add('active');
    document.querySelector(`.screenshot-panel[data-panel="${idx}"]`).classList.add('active');
    windowTitle.textContent = titles[idx];
    caption.textContent = captions[idx];
  });
});

// ── Setup accordion ──
const setupSteps = document.querySelectorAll('.setup-step');
const setupAnims = document.querySelectorAll('.setup-anim');
setupSteps.forEach(step => {
  step.addEventListener('click', () => {
    const idx = step.dataset.setup;
    setupSteps.forEach(s => s.classList.remove('active'));
    setupAnims.forEach(a => a.classList.remove('active'));
    step.classList.add('active');
    document.querySelector(`.setup-anim[data-setup-vis="${idx}"]`).classList.add('active');
  });
});
</script>
</body>
</html>
